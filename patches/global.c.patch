*** global.c.orig	2016-11-05 23:23:19.168028953 +0100
--- global.c	2016-11-05 23:20:58.444025184 +0100
***************
*** 79,86 ****
--- 79,94 ----
  		pos > 0;
  		pos = git_atomic_dec(&git__n_shutdown_callbacks)) {
  
+ #ifdef _WIN32
+ #pragma GCC diagnostic push
+ #pragma GCC diagnostic ignored "-Wpedantic"
  		git_global_shutdown_fn cb = git__swap(
  			git__shutdown_callbacks[pos - 1], NULL);
+ #pragma GCC diagnostic pop
+ #else
+ 		git_global_shutdown_fn cb = git__swap(
+ 			git__shutdown_callbacks[pos - 1], NULL);
+ #endif
  
  		if (cb != NULL)
  			cb();
